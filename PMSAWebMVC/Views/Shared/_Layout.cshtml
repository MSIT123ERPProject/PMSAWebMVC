@using PMSAWebMVC.Models;
@using Microsoft.AspNet.Identity;
<!DOCTYPE html>
<html>
<head>
    @*<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">*@
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>新人類ERP</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>@ViewBag.Title</title>
    <link rel="icon" href="~/Content/MDB/favicon.ico" type="image/x-icon" />
    @Styles.Render("~/Content/css")
    @Styles.Render("~/Content/form")
    @Styles.Render("~/Content/DataTables")
    @Scripts.Render("~/bundles/modernizr")
    @RenderSection("styles", required: false)
    <!-- Optional: include a polyfill for ES6 Promises for IE11 -->
    @*<script src="https://cdn.jsdelivr.net/npm/promise-polyfill"></script>*@
</head>
<body id="page-top">
    <div class="wrapper">
        <div class="page-wrap">
            <div class="app-sidebar colored">
                <div class="sidebar-header">
                    <a class="header-brand" href="@Url.Action("Index", "Home")">
                        <div class="logo-img" style="height:40px;">
                            <h2><i class="fas fa-bicycle mr-1"></i>@PMSAWebMVC.Resources.AppResource.chokobo</h2>
                        </div>
                    </a>
                    <button type="button" class="nav-toggle"><i data-toggle="expanded" class="ik ik-toggle-right toggle-icon"></i></button>
                    <button id="sidebarClose" class="nav-close"><i class="ik ik-x"></i></button>
                </div>
                <div class="sidebar-content">
                    <div class="nav-container">
                        <!-- Navbar -->
                        <nav id="main-menu-navigation" class="navigation-main">
                            <div class="nav-item has-sub">
                                <a href="javascript:void(0)">
                                    <div style="display:flex; flex-direction:row !important;">
                                        <i class="fas fa-user-circle fa-fw pb-2" style="font-size: 40px;margin-top:10px;width:40px;"></i>
                                        @if (Request.IsAuthenticated)
                                        {
                                            <div style="margin-left:10px;">
                                                <span style="display:block;">@User.Identity.GetTitle()</span>
                                                <span style="display:block;">@User.Identity.GetRealName()</span>
                                            </div>
                                        }
                                    </div>
                                </a>
                                <div class="submenu-content">
                                    <a class="menu-item" href="#">基本資料設定</a>
                                    <a class="menu-item" href="#">重設密碼</a>
                                    <a class="menu-item" style="font-weight: 600;letter-spacing:2px;" href="@Url.Action( "LogOff", "Account")"><i class="fas fa-power-off"></i>登出</a>
                                </div>
                            </div>
                            <div class="nav-item">
                                <a href="@Url.Action("Index", "Home")" class="nav-link">
                                    <i class="fas fa-fw fa-tachometer-alt"></i>
                                    <span>首頁</span>
                                </a>
                            </div>
                            @if (User.IsInRole("Supplier"))
                            {
                                @*<script>$("page-top").css("background-color", "black");</script>*@
                                <div class="nav-item has-sub">
                                    <a href="javascript:void(0)">
                                        <i class="ik ik-layers"></i>
                                        <span>@PMSAWebMVC.Resources.AppResource.Supplier</span>
                                    </a>
                                    <div class="submenu-content">
                                        @Html.ActionLink(PMSAWebMVC.Resources.AppResource.ShipNotice, "Index", "ShipNotices", null, new { @class = "menu-item" })
                                        @Html.ActionLink(PMSAWebMVC.Resources.AppResource.InventoryManagementSupplier, "Index", "SupplierStocks", null, new { @class = "menu-item" })
                                    </div>
                                </div>
                            }
                            @if (User.IsInRole("Warehouse"))
                            {
                                <div class="nav-item has-sub">
                                    <a class="nav-link dropdown-toggle" href="#" id="pagesDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <i class="fas fa-fw fa-folder"></i>
                                        <span>@PMSAWebMVC.Resources.AppResource.Inventory</span>
                                    </a>
                                    <div class="sidebar-submenu dropdown-menu" aria-labelledby="pagesDropdown">
                                        @*<h6 class="dropdown-header">@PMSAWebMVC.Resources.AppResource.Inventory</h6>*@
                                        <a class="dropdown-item" href="@Url.Action("Index", "WarehouseInfoes")">@PMSAWebMVC.Resources.AppResource.WarehouseInfoes</a>
                                        <a class="dropdown-item" href="@Url.Action("Index", "InventoryDtls")">@PMSAWebMVC.Resources.AppResource.InventoryDtls</a>
                                    </div>
                                </div>
                            }
                            @if (User.IsInRole("Admin"))
                            {
                                <div class="nav-item has-sub">
                                    <a class="nav-link dropdown-toggle" href="#" id="pagesDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <i class="fas fa-fw fa-folder"></i>
                                        <span>管理員</span>
                                    </a>
                                    <div class="sidebar-submenu dropdown-menu" aria-labelledby="pagesDropdown">
                                        @*<h6 class="dropdown-header">管理員</h6>*@
                                        <a class="dropdown-item" href="@Url.Action("Create", "RolesAdmin")">角色管理</a>
                                        <a class="dropdown-item" href="@Url.Action("Create", "UsersAdmin")">採購員帳號管理</a>
                                    </div>
                                </div>
                            }
                            @if (User.IsInRole("Buyer"))
                            {
                                <div class="nav-item has-sub">
                                    <a class="nav-link dropdown-toggle" href="#" id="pagesDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <i class="fas fa-fw fa-folder"></i>
                                        <span>@PMSAWebMVC.Resources.AppResource.PartsMangement</span>
                                    </a>
                                    <div class="sidebar-submenu dropdown-menu" aria-labelledby="pagesDropdown">
                                        @*<h6 class="dropdown-header">@PMSAWebMVC.Resources.AppResource.PartsMangement</h6>*@
                                        <a class="dropdown-item" href="@Url.Action("Index", "Parts")">@PMSAWebMVC.Resources.AppResource.Parts</a>
                                        <a class="dropdown-item" href="@Url.Action("Index", "Products")">@PMSAWebMVC.Resources.AppResource.Products</a>
                                    </div>
                                </div>
                            }
                            @if (User.IsInRole("Buyer"))
                            {
                                <div class="nav-item has-sub">
                                    <a class="nav-link" href="@Url.Action("Index", "SourceLists")">
                                        <i class="fas fa-fw fa-table"></i>
                                        <span>貨源清單</span>
                                    </a>
                                </div>
                            }
                            @if (User.IsInRole("Buyer") || User.IsInRole("ProductionControl"))
                            {
                                <div class="nav-item has-sub">
                                    <a class="nav-link" href="@Url.Action("Index", "PurchaseRequisitions")">
                                        <i class="fas fa-fw fa-table"></i>
                                        <span>請購單</span>
                                    </a>
                                </div>
                            }
                            @if (User.IsInRole("Buyer"))
                            {
                                <div class="nav-item has-sub">
                                    <a class="nav-link" href="@Url.Action("Index", "PurchaseOrders")">
                                        <i class="fas fa-fw fa-table"></i>
                                        <span>採購單</span>
                                    </a>
                                </div>
                            }
                            <div class="nav-lavel">
                                @Html.Partial("_LanguagePartial")
                            </div>
                            <div class="nav-lavel">Forms</div>
                            <div class="nav-item has-sub">
                                <a href="#"><i class="ik ik-edit"></i><span>Forms</span></a>
                                <div class="submenu-content">
                                    <a href="pages/form-components.html" class="menu-item">Components</a>
                                    <a href="pages/form-addon.html" class="menu-item">Add-On</a>
                                    <a href="pages/form-advance.html" class="menu-item">Advance</a>
                                </div>
                            </div>
                            <div class="nav-item">
                                <a href="pages/form-picker.html"><i class="ik ik-terminal"></i><span>Form Picker</span> <span class="badge badge-success">New</span></a>
                            </div>
                            <div class="nav-lavel">Tables</div>
                            <div class="nav-item">
                                <a href="pages/table-bootstrap.html"><i class="ik ik-credit-card"></i><span>Bootstrap Table</span></a>
                            </div>
                            <div class="nav-item">
                                <a href="pages/table-datatable.html"><i class="ik ik-inbox"></i><span>Data Table</span></a>
                            </div>
                        </nav>
                    </div>
                </div>
            </div>
            <div class="main-content">
                <div class="container-fluid">
                    @RenderBody()

                </div>
            </div>
            <footer class="footer">
                <div class="w-100 clearfix">
                    <span class="text-center text-sm-left d-md-inline-block">Copyright © 2018 ThemeKit v2.0. All Rights Reserved.</span>
                    <span class="float-none float-sm-right mt-1 mt-sm-0 text-center">Crafted with <i class="fa fa-heart text-danger"></i> by <a href="http://lavalite.org/" class="text-dark" target="_blank">Lavalite</a></span>
                </div>
            </footer>
        </div>
    </div>
    @Scripts.Render("~/bundles/jquery")
    @*@Scripts.Render("~/bundles/toastrcss")
        @Scripts.Render("~/bundles/toastrjs")*@
    <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" rel="stylesheet" />
    <script src="http://i.gtimg.cn/qzone/biz/gdt/lib/jquery/jquery-2.1.4.js?max_age=31536000"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    @Scripts.Render("~/bundles/js")
    @Scripts.Render("~/bundles/form")
    @Scripts.Render("~/bundles/DataTables")
    @Scripts.Render("~/bundles/HighCharts")
    @RenderSection("scripts", required: false)
</body>
</html>